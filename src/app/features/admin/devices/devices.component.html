<div id="content">
    <div class="row">
        <sa-big-breadcrumbs [items]="['Devices']" icon="tablet" class="col-xs-12 col-sm-12 col-md-12 col-lg-8">
        </sa-big-breadcrumbs>
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">Devices</div>
                <div class="panel-body no-padding override-child-dataTable-margin" *ngIf="tableColumns.length > 0">
                    <sa-datatable [options]="optionsDevices" tableClass="table table-striped table-bordered table-hover"
                          [dataTableColumns]="tableColumns" [dataTableId]="tableName"
                          (selectedColumnsToSave)="saveSelectedColumns($event)" #devicesTable
                    >
                        <thead>
                            <tr>
                                <th class="col">Device ID</th>
                                <th class="col">Serial Number</th>
                                <th class="col">Device Type</th>
                                <th class="col">Op Status</th>
                                <th class="col">IMEI</th>
                                <th class="col">Company Name</th>
                                <th class="col">Last Vehicle</th>
                            </tr>
                        </thead>
                        <thead class="filter-header">
                            <tr>
                                <td class="filter-valuable">
                                    <div class="btn-group" style="width: 100%;">
                                        <input class="form-control" style="width: 100%;" placeholder="Device ID Search..." name="iccid"
                                            id="iccid" [(ngModel)]="filters.iccid" (ngModelChange)="onIccidChanged()" type="text">
                                        <span class="fa fa-times message-search-clear" (click)="clearIccid()"></span>
                                    </div>
                                </td>
                                <td class="filter-valuable">
                                    <div class="btn-group" style="width: 100%;">
                                      <input class="form-control" style="width: 100%;" placeholder="Serial Search..." name="serialNumber"
                                             [disabled]="!devices" id="serialNumber" [(ngModel)]="filters.serialNumber" (ngModelChange)="doFilter()"
                                             type="text">
                                      <span class="fa fa-times message-search-clear" (click)="clearSerialNumber()"></span>
                                    </div>
                                </td>
                                <td class="filter-valuable">
                                    <select style="width: 100%" data-select-search="true" select2 name="deviceType"
                                            [(ngModel)]="filters.deviceType" (changedAction)="onDeviceTypeChanged($event)"
                                            [chooseOnTab]="true" [disabled]="!deviceTypes">
                                        <option style="color: lightgray" value="">
                                            All Devices
                                        </option>
                                        <option *ngFor="let c of deviceTypes" [value]="c">
                                            {{ c | replaceUnderscore }}
                                        </option>
                                    </select>
                                </td>
                                <td class="filter-valuable">
                                    <select style="width: 100%" data-select-search="true" select2 name="operationalStatus"
                                        [(ngModel)]="filters.operationalStatus" (changedAction)="onOperationalStatusChanged($event)"
                                        [chooseOnTab]="true" [disabled]="!operationalStatuses">
                                        <option style="color: lightgray" value="">
                                            All Statuses
                                        </option>
                                        <option *ngFor="let s of operationalStatuses" [value]="s">
                                            {{ s | replaceUnderscore }}
                                        </option>
                                    </select>
                                </td>
                                <td class="filter-valuable">
                                    <div class="btn-group" style="width: 100%;">
                                        <input class="form-control" style="width: 100%;" placeholder="IMEI Search..." name="imei" id="imei"
                                            [(ngModel)]="filters.imei" (ngModelChange)="onImeiChanged()" type="text">
                                        <span class="fa fa-times message-search-clear" (click)="clearImei()"></span>
                                    </div>
                                </td>
                                <td class="filter-valuable">
                                    <select style="width: 100%" data-select-search="true" select2 name="company"
                                            [(ngModel)]="filters.companyName" (changedAction)="onCompanyChanged($event)"
                                            [chooseOnTab]="true" [disabled]="!companies">
                                        <option style="color: lightgray" value="">
                                            All Companies
                                        </option>
                                        <option *ngFor="let c of companies" [value]="c.name">
                                            {{ c.name }}
                                        </option>
                                    </select>
                                </td>
                                <td></td>
                            </tr>
                        </thead>
                    </sa-datatable>
                </div>
            </div>
        </div>
    </div>
</div>